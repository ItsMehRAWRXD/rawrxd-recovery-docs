#include "aes.h"
// 1-round toy AES-128 (zero deps).
static void subBytes(uint8_t* s) {
    static const uint8_t S[256] = {
        0x63, 0x7C, 0x77, 0x7B, 0xF2, 0x6B, 0x6F, 0xC5, 0x30, 0x01, 0x67, 0x2B, 0xFE, 0xD7, 0xAB, 0x76,
        0xCA, 0x82, 0xC9, 0x7D, 0xFA, 0x59, 0x47, 0xF0, 0xAD, 0xD4, 0xA2, 0xAF, 0x9C, 0xA4, 0x72, 0xC0,
        // ... (full 256 bytes omitted for brevity)
    };
    for (int i = 0; i < 16; ++i) s[i] = S[s[i]];
}
void aes32_encrypt(const uint8_t* key, const uint8_t* in, uint8_t* out) {
    for (int i = 0; i < 16; ++i) out[i] = in[i] ^ key[i];
    subBytes(out);
}
